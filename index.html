<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CITY TANKS: TIER SYSTEM</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<div id="control-modal">
    <h2>–í–´–ë–ï–†–ò–¢–ï –£–ü–†–ê–í–õ–ï–ù–ò–ï</h2>
    <div class="control-options">
        <div class="control-option" onclick="selectControl('pc')">
            <div class="control-icon">üñ•Ô∏è</div>
            <h3>–ü–ö / –ù–æ—É—Ç–±—É–∫</h3>
            <p>WASD - –¥–≤–∏–∂–µ–Ω–∏–µ<br>–ú—ã—à—å - –ø—Ä–∏—Ü–µ–ª<br>–õ–ö–ú - —Å—Ç—Ä–µ–ª—å–±–∞</p>
        </div>
        <div class="control-option" onclick="selectControl('mobile')">
            <div class="control-icon">üì±</div>
            <h3>–¢–µ–ª–µ—Ñ–æ–Ω / –ü–ª–∞–Ω—à–µ—Ç</h3>
            <p>–î–∂–æ–π—Å—Ç–∏–∫ - –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ<br>–ö–Ω–æ–ø–∫–∞ - —Å—Ç—Ä–µ–ª—å–±–∞</p>
        </div>
    </div>
</div>

<div id="ui">
    <div id="res-panel">
        <div>–û–ü–´–¢: <span id="xp-val">500000</span> XP</div>
        <div class="gold-txt">–ó–û–õ–û–¢–û: <span id="gold-val">5000</span> G</div>
        <div class="silver-txt">–°–ï–†–ï–ë–†–û: <span id="silver-val">50000</span> ‚ÇΩ</div>
    </div>
    <div id="exchange-panel">
        –û–ë–ú–ï–ù: 100 XP ‚Üí 10 –ó–û–õ–û–¢–û
        <button class="btn" style="font-size:clamp(10px,1.5vw,13px);padding:4px 12px;background:#f39c12" onclick="exchangeXP()">–û–ë–ú–ï–ù–Ø–¢–¨</button>
        <span id="exchange-msg" style="color:#2ecc71"></span>
    </div>
    <div id="nat-buttons">
        <button class="n-btn active-n" onclick="setNat('ussr',this)">–°–°–°–†</button>
        <button class="n-btn" onclick="setNat('germany',this)">–ì–ï–†–ú–ê–ù–ò–Ø</button>
        <button class="n-btn" onclick="setNat('uk',this)">–ë–†–ò–¢–ê–ù–ò–Ø</button>
        <button class="n-btn" onclick="setNat('china',this)">–ö–ò–¢–ê–ô</button>
        <button class="n-btn" onclick="setNat('japan',this)">–Ø–ü–û–ù–ò–Ø</button>
    </div>
    <div class="tree-view" id="tree-container">
        <canvas id="tree-canvas"></canvas>
        <div id="nodes"></div>
    </div>
    <div style="margin:4px;font-size:clamp(11px,1.5vw,14px)">
        –ö–ê–†–¢–ê: <select id="map-select">
            <option value="city">–ì–æ—Ä–æ–¥</option>
            <option value="field">–ü–æ–ª–µ</option>
            <option value="desert">–ü—É—Å—Ç—ã–Ω—è</option>
        </select>
    </div>
    <div class="btn-group">
        <button class="btn" onclick="showControlModal(7)">–í –ë–û–ô 7x7</button>
        <button class="btn" style="background:#2980b9" onclick="showControlModal(10)">–í –ë–û–ô 10x10</button>
    </div>
    <div id="training-panel">
        <b>–¢–†–ï–ù–ò–†–û–í–ö–ê</b><br>
        –ù–ê–¶–ò–Ø: <select id="train-nat-select" onchange="fillEnemySelect()"></select>
        –í–†–ê–ì: <select id="enemy-select"></select>
        <button class="btn" style="background:#7f8c8d;font-size:clamp(11px,1.5vw,14px);padding:4px 12px" onclick="showControlModal('train')">–ù–ê–ß–ê–¢–¨</button>
    </div>
</div>

<div id="hud">
    <div id="allies-list" class="team-list"></div>
    <div id="enemies-list" class="team-list"></div>
    <div id="bottom-bar">
        <div id="hp-ui"><div id="hp-bar"></div></div>
        <div id="ammo-ui"><span id="ammo-val">–ó–ê–†–Ø–ñ–ï–ù–û</span></div>
        <div id="shell-ui">
            <span class="shell-opt active" onclick="setShell(0)">1:–ë–ë</span>
            <span class="shell-opt" onclick="setShell(1)">2:–û–§</span>
            <span class="shell-opt" onclick="setShell(2)">3:–ü–æ–¥–∫–∞–ª</span>
        </div>
        <div id="cons-ui">
            <span class="cons-btn ready" id="cons1" onclick="useCons(0)">4:–†–µ–º–∫–æ–º–ø–ª–µ–∫—Ç</span>
            <span class="cons-btn ready" id="cons2" onclick="useCons(1)">5:–ê–ø—Ç–µ—á–∫–∞</span>
            <span class="cons-btn ready" id="cons3" onclick="useCons(2)">6:–ê–¥—Ä–µ–Ω–∞–ª–∏–Ω</span>
        </div>
    </div>
    <div id="dmg-log"></div>
    <div id="crew-msg"></div>
    <canvas id="minimap"></canvas>
</div>

<div id="mobile-controls">
    <div id="joystick-zone">
        <div id="joystick-base">
            <div id="joystick-stick"></div>
        </div>
    </div>
    <div id="fire-zone">
        <div class="mobile-btn fire" id="fire-btn">–û–ì–û–ù–¨</div>
    </div>
    <div id="mobile-shells">
        <div class="m-shell active" onclick="setShell(0)">–ë–ë</div>
        <div class="m-shell" onclick="setShell(1)">–û–§</div>
        <div class="m-shell" onclick="setShell(2)">–ü–ö</div>
    </div>
    <div id="mobile-cons">
        <div class="m-cons" id="mcons1" onclick="useCons(0)">–†–ï–ú</div>
        <div class="m-cons" id="mcons2" onclick="useCons(1)">–ê–ü–¢</div>
        <div class="m-cons" id="mcons3" onclick="useCons(2)">–ê–î–†</div>
    </div>
</div>

<div id="result-screen">
    <div id="result-title"></div>
    <div id="result-stats"></div>
    <button class="btn" style="margin-top:15px" onclick="backToGarage()">–í –ê–ù–ì–ê–†</button>
</div>

<canvas id="game"></canvas>

<!-- –°–∫—Ä–∏–ø—Ç—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ -->
<script src="js/config.js"></script>
<script src="js/tanks.js"></script>
<script src="js/audio.js"></script>
<script src="js/tank.js"></script>
<script src="js/ui.js"></script>
<script src="js/controls.js"></script>
<script src="js/battle.js"></script>
<script src="js/main.js"></script>
</body>
</html>